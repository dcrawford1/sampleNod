language: none

build:
  pre_ci_boot:
    image_name: intelight/ubuntu-dev
    image_tag: 16.04-0
    pull: true
    options: '-e FOO=true -e BOO=false'

  pre_ci:
    - echo "this is master branch"
    - pwd && ls -l
    - whoami
    - echo $BOO
    - cat /etc/os-release
    - docker --version
    - docker-compose --version

  ci:
    - pwd && ls -l
    - echo $SHIPPABLE_BUILD_DIR
    - whoami
    - echo $BOO
    - cat /etc/os-release

  post_ci:
    - ls -a
    - pwd
    - whoami
    - cat /etc/os-release

  cache: true

  cache_dir_list: 
    - $SHIPPABLE_BUILD_DIR/node_modules

